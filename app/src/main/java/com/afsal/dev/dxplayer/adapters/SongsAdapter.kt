package com.afsal.dev.dxplayer.adaptersimport android.view.LayoutInflaterimport android.view.ViewGroupimport androidx.recyclerview.widget.AsyncListDifferimport androidx.recyclerview.widget.DiffUtilimport androidx.recyclerview.widget.RecyclerViewimport com.afsal.dev.dxplayer.databinding.AudioMainItemBindingimport com.afsal.dev.dxplayer.models.audioSections.MusicItemimport com.afsal.dev.dxplayer.utills.CoreUttilesclass SongsAdapter(private val onItemClick: (Music: MusicItem) -> Unit) :    RecyclerView.Adapter<SongsAdapter.ItemHolder>() {    private val diffCallback = object : DiffUtil.ItemCallback<MusicItem>() {        override fun areItemsTheSame(oldItem: MusicItem, newItem: MusicItem): Boolean {            return oldItem.id == newItem.id        }        override fun areContentsTheSame(oldItem: MusicItem, newItem: MusicItem): Boolean {            return oldItem.hashCode() == newItem.hashCode()        }    }    val differ = AsyncListDiffer(this, diffCallback)    inner class ItemHolder(val binding: AudioMainItemBinding) :        RecyclerView.ViewHolder(binding.root) {        init {            val position = absoluteAdapterPosition            binding.root.setOnClickListener {                if (position != RecyclerView.NO_POSITION) {                    onItemClick(differ.currentList[position])                }            }        }        fun bind(musicItem: MusicItem) {            binding.titleText.text = musicItem.tittle            CoreUttiles.loadImageIntoView(                musicItem.artUri,                binding.musicImage,                null,                CoreUttiles.IMAGE_VIEW            )        }    }    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ItemHolder {        return ItemHolder(            AudioMainItemBinding.inflate(                LayoutInflater.from(parent.context),                parent,                false            )        )    }    override fun onBindViewHolder(holder: ItemHolder, position: Int) {        val item = differ.currentList[position]        //holder.binding.titleText.text=item        holder.bind(item)    }    override fun getItemCount() = differ.currentList.size}